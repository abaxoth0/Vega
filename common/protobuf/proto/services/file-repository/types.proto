syntax = "proto3";

package file_repository;

option go_package = "github.com/abaxoth0/Vega/common/protobuf/generated/go/services/file-repository";

message HealthCheckRequest {
  string service = 1;
}

message HealthCheckResponse {
  string status = 1;
  string timestamp = 2;
}

message GetFileByPathRequest {
  string path = 1;
  string bucket = 2;
  int32 chunk_size = 3;
}

message MkdirRequest {
  string path = 1;
  string bucket = 2;
}

message FileContentHeader {
    string path = 1;
    string bucket = 2;
    int64  size = 3;
}

message FileContentRequest {
  oneof data {
    FileContentHeader header = 1;
    bytes  chunk = 2;
  }
}
message DeleteFilesRequest {
  repeated string paths = 1;
  string bucket = 2;
}

message FileChunk {
  bytes content = 1;
  int64 chunk_index = 2;
  int64 total_size = 3;
}

message StatusResponse {
  int32  status = 1;
  string message = 2;
}
